#!@AWK@ -f

# LMDBG helper script
#
# Input:
#   malloc/realloc/free ...
#    address1
#    address2
#    address3
# Output:
#   malloc/realloc/free ...<SPACE>address1<SUBSEP>address2<SUBSEP>address3

NF > 0 && /^ / {
	calls = calls SUBSEP substr($0, 2)
	next
}

NF > 0 {
	if (last){
		print last " " substr(calls, 2)
		calls = ""
	}

	last = $0
}

END {
	if (calls){
		print last " " substr(calls, 2)
		calls = ""
	}
}
