#!@AWK@ -f

# LMDBG helper script
#
# Input:
#   malloc/realloc/free ...<SPACE>address1<SUBSEP>address2
# Output:
#   malloc/realloc/free ...
#    address1
#    address2

BEGIN {
	FS = SUBSEP
}

$1 ~ /^(malloc|calloc|memalign|free|posix_memalign|realloc) / {
	idx = match($1, / [^ ]*$/)
#	print "idx=" idx
	print substr($1, 1, idx-1)
	print " " substr($1, idx+1)
	for (i=2; i <= NF; ++i){
		print " " $i
	}
	next
}

{
	print
}
